export const META_PROMPT_TEMPLATE = `# {{userName}}さんの脂肪燃焼 & 理想的筋肉バランス トレーニングシステム（メタプロンプト版）

## 🔄 重要：このプロンプトの自動更新機能

**このプロンプトはメタプロンプトです。** トレーニング記録を入力すると、AIが自動的に：

1. **データを分析** - 最新のトレーニング実績と体組成を評価
2. **筋肉バランスを更新** - 使用重量から筋力バランスを再計算  
3. **次回プランを調整** - 最適な重量と回数を設定
4. **新しいプロンプトを生成** - 完全に更新されたプロンプト全体をアーティファクトで出力

**⭐ 使用方法**: 下記のテンプレートでトレーニング記録を送信してください。AIが即座に次回用の新しいプロンプトを生成します。

---

## システム概要

このプロンプトは以下の機能を提供します：

1. **使用重量から筋肉バランスを分析**：実際のトレーニング重量から体の筋肉バランスを推測
2. **理想的な筋肉バランスを目指したプログラム調整**：黄金比に基づく美しい筋肉バランスの実現
3. **柔軟なトレーニング再構成**：8パターンの基本構造を維持しつつ、個人の発達状況に合わせて調整
4. **トレーニングサイクルの自動進行管理**：前回のセッションから次のセッションを自動表示
5. **🔄 メタプロンプト機能**：トレーニング記録入力後、完全に更新されたプロンプトを自動生成

## あなたの目標と環境

**目標**: {{goals}}
**環境**: {{environment}}

## 最新のトレーニング記録

**最後に実施したトレーニング**: セッション{{lastSessionNumber}}（{{lastTrainingDate}}実施）
**次回のトレーニング**: セッション{{sessionNumber}}（{{sessionTitle}}）

## 最新の身体測定値

{{#hasMeasurements}}
**体組成**（{{measurementDate}}測定）
- 体重: {{weight}}kg
- 体脂肪率: {{bodyFatPercentage}}%
- 筋肉量: {{muscleMass}}%

**トレンド**
- 体重変化: {{weightChange}}kg
- 体脂肪変化: {{fatChange}}%
- 筋肉量変化: {{muscleChange}}%
{{/hasMeasurements}}

{{^hasMeasurements}}
**身体測定値**: まだ記録されていません。体組成データを追加すると、より最適化されたプログラムを提供できます。
{{/hasMeasurements}}

## 🎯 トレーニング記録の送信方法（超簡単！）

**自由記述でOK！** 何をどんな重量で何回やったかが分かれば十分です。送信後、AIが自動的に次回用の完全に更新されたプロンプトをアーティファクトで出力します。

### 📝 記入方法（自由記述）

**基本情報**：
- エクササイズ名、重量、回数、セット数が分かればOK
- 日付があるとベター（なくても大丈夫）
- カーディオ情報があると更に良い

**📱 体組成データ**：
- 体重計アプリのスクショをアップロードするだけでOK！
- なくても大丈夫ですが、あるとより最適化されたトレーニングメニューを組めます
- 体重、体脂肪率、筋肉量が分かると完璧

### ✅ 記入例

\`\`\`
ダンベルベンチプレス 20kg 10回 3セット
インクラインフライ 8kg 12回 3セット  
トライセプスエクステンション 10kg 15回 3セット
\`\`\`

## 過去のトレーニング実績データ

{{#trainingHistory}}
セッション{{sessionNumber}}: [{{date}}]
{{#exercises}}
- {{name}}: {{weight}}{{unit}} × {{reps}}回 × {{sets}}セット
{{/exercises}}

{{/trainingHistory}}

{{^trainingHistory}}
まだトレーニング記録がありません。最初のセッションを始めましょう！
{{/trainingHistory}}

## 筋肉バランス分析

{{#hasAnalysis}}
**筋力バランス評価**:
- 上半身プッシュ系（胸・三頭・肩前部）: {{pushUpperStrength}}
- 上半身プル系（背中・二頭・肩後部）: {{pullUpperStrength}}
- 下半身（大腿前部）: {{lowerFrontStrength}}
- 下半身（大腿後部・臀部）: {{lowerBackStrength}}
- コア（腹筋）: {{coreStrength}}

**推奨事項**:
{{#recommendations}}
- {{.}}
{{/recommendations}}
{{/hasAnalysis}}

{{^hasAnalysis}}
トレーニング実績が蓄積されると、詳細な筋肉バランス分析を提供します。
{{/hasAnalysis}}

## 次回のトレーニング詳細

### セッション{{sessionNumber}}: {{sessionTitle}}

**ウォームアップ (5分)**
- 軽いジョギング - 3分
- 対象部位のストレッチ - 2分

**筋力トレーニング (20分)**
{{#exercises}}
{{order}}. **{{name}}**
   - {{sets}}セット x {{targetReps}}回
   - 推奨重量: {{weight}}{{unit}}
   - セット間{{rest}}秒休憩
{{/exercises}}

**カーディオ (30分)**
- 標準HIITプロトコルまたは中強度定常状態カーディオ

**ストレッチ (5分)**
- 使用した筋肉群のストレッチ

## 🔄 AIへの指示（メタプロンプト機能）

**AIよ、ユーザーがトレーニング記録を送信したら、以下の手順で新しいプロンプトを生成してください：**

### ステップ1: データ抽出・分析
- 自由記述からエクササイズ名、重量、回数、セット数を識別
- 体組成データがあれば抽出
- 新しい実績を過去データに追加

### ステップ2: 筋肉バランス更新
- 各筋肉群の相対的強度を再計算
- 弱い部位と強い部位を特定
- 理想的な黄金比からの乖離を測定

### ステップ3: 次回トレーニング調整
- セッション番号を次に進める（1→2→3→4→5→6→7→8→1...）
- 各エクササイズの推奨重量を実績に基づいて調整
- 弱い筋肉群には特別な注意を払う

### ステップ4: 新プロンプト生成
- 全ての更新を反映した完全に新しいプロンプトを作成
- アーティファクトとして出力

## トレーニングセッション基本構造

### セッション1: 胸部 & 三頭筋
- ダンベルベンチプレス（8-10回）
- インクラインダンベルフライ（10-12回）
- ダンベルトライセプスエクステンション（10-12回）

### セッション2: 背中 & 二頭筋
- ワンアームダンベルロウ（8-10回）
- ダンベルプルオーバー（8-10回）
- ダンベルカール（10-12回）

### セッション3: 脚 & コア
- ダンベルスクワット（10-12回）
- ダンベルルーマニアンデッドリフト（8-10回）
- ウェイテッドクランチ（12-15回）

### セッション4: 肩 & 前腕
- ダンベルショルダープレス（8-10回）
- ダンベルラテラルレイズ（10-12回）
- ダンベルリストカール（12-15回）

### セッション5: 全身サーキット
- ダンベルスラスター（12-15回）
- ダンベルロウ（12-15回）
- ダンベルロシアンツイスト（左右15-20回）

### セッション6: 上半身複合
- ダンベルプッシュプレス（8-10回）
- ダンベルベントオーバーロウ（8-10回）
- ダンベルハンマーカール（10-12回）

### セッション7: 下半身 & 腹筋
- ダンベルランジ（12-15回）
- ダンベルカーフレイズ（15-18回）
- ウェイテッドクランチ（12-15回）

### セッション8: 機能的全身
- ダンベルスイング（12-15回）
- ダンベルアップライトロウ（10-12回）
- プランクウィズダンベルプル（8-10回）

## 理想的な筋肉バランスの指針

美しい筋肉バランスは以下の比率に基づいています：

1. **黄金比に基づく体型**:
   - 肩幅：ウエスト = 1.618：1（黄金比）
   - 胸囲：ウエスト = 1.4：1
   - 上腕：前腕 = 1.5：1

2. **筋肉群間のバランス**:
   - 胸部：背中 = 1：1（均等な発達）
   - プッシュ系：プル系 = 1：1（力のバランス）

## 栄養戦略の基本指針

**マクロ栄養素バランス（体重基準）**
- タンパク質: 体重1kgあたり2.0-2.2g
- 炭水化物: 体重1kgあたり3-4g
- 脂質: 体重1kgあたり1g

**トレーニング前後の栄養**
- トレーニング前: 炭水化物30-40g + タンパク質20g（1-2時間前）
- トレーニング後: 炭水化物40-50g + タンパク質30g（30分以内）

---

**🎯 次のステップ**: セッション{{sessionNumber}}の実績を自由記述で送信してください。例：「ベンチプレス 20kg 10回 3セット...」のように気軽に！体重計アプリのスクショがあれば一緒にアップロードしてください。AIが即座に次回用の新しいプロンプトを生成します！`;

export const META_PROMPT_EXERCISES = {
  1: [ // 胸・三頭筋
    { name: 'ダンベルベンチプレス', sets: 3, weight: 20, unit: 'kg', targetReps: '8-10', rest: 90 },
    { name: 'インクラインダンベルフライ', sets: 3, weight: 8, unit: 'kg', targetReps: '10-12', rest: 60 },
    { name: 'ダンベルトライセプスエクステンション', sets: 3, weight: 10, unit: 'kg', targetReps: '10-12', rest: 60 }
  ],
  2: [ // 背中・二頭筋
    { name: 'ワンアームダンベルロウ', sets: 3, weight: 15, unit: 'kg', targetReps: '8-10', rest: 90 },
    { name: 'ダンベルプルオーバー', sets: 3, weight: 12, unit: 'kg', targetReps: '8-10', rest: 60 },
    { name: 'ダンベルカール', sets: 3, weight: 10, unit: 'kg', targetReps: '10-12', rest: 60 }
  ],
  3: [ // 脚・コア
    { name: 'ダンベルスクワット', sets: 3, weight: 20, unit: 'kg', targetReps: '10-12', rest: 90 },
    { name: 'ダンベルルーマニアンデッドリフト', sets: 3, weight: 20, unit: 'kg', targetReps: '8-10', rest: 90 },
    { name: 'ウェイテッドクランチ', sets: 3, weight: 10, unit: 'kg', targetReps: '12-15', rest: 60 }
  ],
  4: [ // 肩・前腕
    { name: 'ダンベルショルダープレス', sets: 3, weight: 12, unit: 'kg', targetReps: '8-10', rest: 90 },
    { name: 'ダンベルラテラルレイズ', sets: 3, weight: 6, unit: 'kg', targetReps: '10-12', rest: 60 },
    { name: 'ダンベルリストカール', sets: 3, weight: 8, unit: 'kg', targetReps: '12-15', rest: 45 }
  ],
  5: [ // 全身サーキット
    { name: 'ダンベルスラスター', sets: 3, weight: 10, unit: 'kg', targetReps: '12-15', rest: 60 },
    { name: 'ダンベルロウ', sets: 3, weight: 12, unit: 'kg', targetReps: '12-15', rest: 60 },
    { name: 'ダンベルロシアンツイスト', sets: 3, weight: 8, unit: 'kg', targetReps: '左右15-20', rest: 60 }
  ],
  6: [ // 上半身複合
    { name: 'ダンベルプッシュプレス', sets: 3, weight: 12, unit: 'kg', targetReps: '8-10', rest: 90 },
    { name: 'ダンベルベントオーバーロウ', sets: 3, weight: 15, unit: 'kg', targetReps: '8-10', rest: 90 },
    { name: 'ダンベルハンマーカール', sets: 3, weight: 10, unit: 'kg', targetReps: '10-12', rest: 60 }
  ],
  7: [ // 下半身・腹筋
    { name: 'ダンベルランジ', sets: 3, weight: 12, unit: 'kg', targetReps: '12-15', rest: 90 },
    { name: 'ダンベルカーフレイズ', sets: 3, weight: 15, unit: 'kg', targetReps: '15-18', rest: 60 },
    { name: 'ウェイテッドクランチ', sets: 3, weight: 10, unit: 'kg', targetReps: '12-15', rest: 60 }
  ],
  8: [ // 機能的全身
    { name: 'ダンベルスイング', sets: 3, weight: 12, unit: 'kg', targetReps: '12-15', rest: 60 },
    { name: 'ダンベルアップライトロウ', sets: 3, weight: 10, unit: 'kg', targetReps: '10-12', rest: 60 },
    { name: 'プランクウィズダンベルプル', sets: 3, weight: 8, unit: 'kg', targetReps: '8-10', rest: 90 }
  ]
};